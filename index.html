
 <html lang="zh-CN"> 
 <head> 
   <meta charset="utf-8" /> 
   <meta name="viewport" content="width=device-width,initial-scale=1" /> 
   <title>点阵画图 — 首页</title> 
   <meta name="description" content="轻量的点阵（像素）画图工具。快速开始、模板、示例画廊与使用帮助。" /> 
   <!-- Google reCAPTCHA v2 -->
   <script src="https://www.google.com/recaptcha/api.js"></script> 
   <style> 
     :root{ 
       --bg:#0f1724; 
       --card:#0b1220; 
       --accent:#22c1c3; 
       --muted:#9aa6b2; 
       --glass: rgba(255,255,255,0.03); 
       --radius:14px; 
       font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; 
     } 
     *{box-sizing:border-box} 
     html,body{height:100%;margin:0;background: 
       radial-gradient(1200px 600px at 10% 20%, rgba(34,193,195,0.06), transparent), 
       linear-gradient(180deg,#071123 0%, #071323 100%); 
       color:#e6eef3;font-smoothing:antialiased;} 
     .wrap{max-width:1100px;margin:36px auto;padding:28px;display:grid;grid-template-columns:1fr 420px;gap:20px;} 
     header{grid-column:1/-1;display:flex;align-items:center;justify-content:space-between;gap:12px} 
     .brand{display:flex;gap:12px;align-items:center} 
     .logo{ 
       width:52px;height:52px;border-radius:10px; 
       background:linear-gradient(135deg,var(--accent),#6a5cff); 
       display:flex;align-items:center;justify-content:center;font-weight:700;color:#051219; 
       box-shadow:0 6px 18px rgba(12,20,30,0.6); 
     } 
     h1{margin:0;font-size:20px} 
     p.lead{margin:4px 0 0;color:var(--muted);font-size:13px} 
     /* hero */ 
     .hero{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:var(--radius);box-shadow:0 6px 20px rgba(0,0,0,0.45);} 
     .hero-grid{display:flex;gap:18px;align-items:center} 
     .hero-left{flex:1} 
     .cta-row{margin-top:14px;display:flex;gap:10px;align-items:center;flex-wrap:wrap} 
     .btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:600} 
     .btn-primary{background:linear-gradient(90deg,var(--accent),#6a5cff);color:#052025} 
     .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)} 
     .sub{font-size:13px;color:var(--muted);margin-top:8px} 
     /* right panel (quick actions) */ 
     .panel{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.5);} 
     .quick-list{display:flex;flex-direction:column;gap:10px} 
     .preset{display:flex;gap:12px;align-items:center} 
     .thumb{width:64px;height:64px;border-radius:8px;background:var(--glass);display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid rgba(255,255,255,0.02)} 
     .preset-info{flex:1} 
     .preset-info div{font-size:13px} 
     .small{font-size:12px;color:var(--muted)} 
     /* gallery */ 
     .gallery{margin-top:18px;display:grid;grid-template-columns:repeat(3,1fr);gap:12px} 
     .card{background:var(--card);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:8px;align-items:center} 
     .canvas-preview{width:140px;height:140px;border-radius:8px;overflow:hidden;background:linear-gradient(90deg,#fff,#fff);image-rendering:pixelated;display:flex;align-items:center;justify-content:center} 
     footer{grid-column:1/-1;margin-top:18px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;align-items:center} 
     /* responsive */ 
     @media (max-width:980px){ 
       .wrap{grid-template-columns:1fr;padding:18px} 
       .brand h1{font-size:18px} 
       .hero-grid{flex-direction:column} 
     } 
   </style> 
 </head> 
 <body> 
   <main class="wrap"> 
     <header> 
      <div class="brand"> 
        <div class="logo">LM</div>
        <div>
          <h1>LM点阵画图</h1>
          <p class="lead">轻量、直观的像素画编辑器 — 适合图标、表情与像素艺术创作。</p>
        </div>
      </div> 
      <nav> 
        <button class="btn btn-ghost" id="navOpenEditorBtn">点阵画图</button> 
        <button class="btn btn-ghost" id="navOpenDrawBtn">普通画图</button> 
      </nav> 
     </header> 

     <section class="hero"> 
       <div class="hero-grid"> 
         <div class="hero-left"> 
           <h2 style="margin:0 0 8px">马上开始你的像素创作</h2> 
           <p class="sub">选择预设或自定义网格，快速进入编辑器并开始绘制。支持保存/加载 LM。</p> 

           <div class="cta-row"> 
             <button class="btn btn-primary" id="heroOpenEditorBtn">点阵画图</button> 
             <button class="btn btn-ghost" id="heroOpenDrawBtn">普通画图</button> 
             <button class="btn btn-ghost" id="openTutorial">查看教程</button> 
           </div> 

           <p class="sub" style="margin-top:12px">也可以把页面保存为书签，随时打开继续创作。支持触摸和桌面设备。</p> 
         </div>
       </div>

       <div style="margin-top:14px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
         <div style="color:var(--muted);font-size:13px">特色：</div>
         <div class="small" style="background:rgba(255,255,255,0.02);padding:8px;border-radius:8px">网格自定义</div>
         <div class="small" style="background:rgba(255,255,255,0.02);padding:8px;border-radius:8px">撤销/重做</div>
         <div class="small" style="background:rgba(255,255,255,0.02);padding:8px;border-radius:8px">保存/加载 LM</div>
         <div class="small" style="background:rgba(255,255,255,0.02);padding:8px;border-radius:8px">触摸与鼠标支持</div>
         <div class="small" style="background:rgba(255,255,255,0.02);padding:8px;border-radius:8px">像素值查看</div>
       </div>
     </section> 

     <footer> 
       <div>版本: 1.0</div> 
       <div>&copy; 2025 LM点阵画图</div> 
     </footer> 
   </main> 

   <script> 
     // ---------- 配置 ---------- 
     // 假设编辑器文件名为 "index.html"（你之前的画图文件）， 
     // 如果编辑器文件为 editor.html 或 pixel-editor.html，请修改 editFile 变量。 
     const editFile = 'painter.html'; 
     
     // reCAPTCHA 配置
     const RECAPTCHA_SITE_KEY = '6LfOeC8sAAAAAIW6MSc90JxLe21LIcpRuBO5fHLJ';
     let isVerified = false;
     
     // 创建 reCAPTCHA 弹窗
     function createRecaptchaModal() {
       // 检查是否已存在
       if (document.getElementById('recaptchaModal')) {
         return;
       }
       
       const modal = document.createElement('div');
       modal.id = 'recaptchaModal';
       modal.style.position = 'fixed';
       modal.style.top = '0';
       modal.style.left = '0';
       modal.style.width = '100%';
       modal.style.height = '100%';
       modal.style.background = 'rgba(0, 0, 0, 0.8)';
       modal.style.display = 'flex';
       modal.style.alignItems = 'center';
       modal.style.justifyContent = 'center';
       modal.style.zIndex = '1000';
       modal.style.color = '#fff';
       
       const modalContent = document.createElement('div');
       modalContent.style.background = '#2a3342';
       modalContent.style.padding = '20px';
       modalContent.style.borderRadius = '12px';
       modalContent.style.width = '90%';
       modalContent.style.maxWidth = '400px';
       modalContent.style.textAlign = 'center';
       
       const title = document.createElement('h2');
       title.textContent = '人机验证';
       title.style.marginBottom = '20px';
       
       const description = document.createElement('p');
       description.textContent = '为了保护网站安全，需要进行人机验证才能访问画图工具。';
       description.style.marginBottom = '20px';
       description.style.color = '#ccc';
       
       const recaptchaContainer = document.createElement('div');
       recaptchaContainer.id = 'recaptchaWidget';
       recaptchaContainer.style.marginBottom = '20px';
       recaptchaContainer.style.display = 'inline-block';
       recaptchaContainer.style.width = '304px';
       recaptchaContainer.style.height = '78px';
       
       const closeBtn = document.createElement('button');
       closeBtn.textContent = '关闭';
       closeBtn.style.marginTop = '20px';
       closeBtn.style.padding = '8px 16px';
       closeBtn.style.backgroundColor = '#667eea';
       closeBtn.style.color = '#fff';
       closeBtn.style.border = 'none';
       closeBtn.style.borderRadius = '8px';
       closeBtn.style.cursor = 'pointer';
       closeBtn.addEventListener('click', () => {
         document.body.removeChild(modal);
       });
       
       modalContent.appendChild(title);
       modalContent.appendChild(description);
       modalContent.appendChild(recaptchaContainer);
       modalContent.appendChild(closeBtn);
       modal.appendChild(modalContent);
       document.body.appendChild(modal);
       
       // 显式渲染 reCAPTCHA 组件
       if (typeof grecaptcha !== 'undefined') {
         grecaptcha.render(recaptchaContainer, {
           'sitekey': RECAPTCHA_SITE_KEY,
           'callback': onRecaptchaSuccess,
           'theme': 'dark'
         });
       } else {
         // 如果 reCAPTCHA API 还没加载完成，显示错误信息
         recaptchaContainer.innerHTML = '<p style="color: red;">reCAPTCHA 加载失败，请刷新页面重试。</p>';
       }
     }
     
     // reCAPTCHA 验证成功回调
     window.onRecaptchaSuccess = function(token) {
       isVerified = true;
       const modal = document.getElementById('recaptchaModal');
       if (modal) {
         document.body.removeChild(modal);
       }
       // 如果有等待打开的链接，直接打开
       if (window.pendingUrl) {
         window.open(window.pendingUrl, '_blank');
         window.pendingUrl = null;
       }
     };
     
     // 检查验证并打开链接
     function checkRecaptchaAndOpen(url) {
       if (isVerified) {
         window.open(url, '_blank');
       } else {
         window.pendingUrl = url;
         createRecaptchaModal();
       }
     }

     // 绑定按钮 
     document.getElementById('navOpenEditorBtn').addEventListener('click', ()=>{ 
       checkRecaptchaAndOpen(editFile);
     }); 

     document.getElementById('heroOpenEditorBtn').addEventListener('click', ()=>{ 
       checkRecaptchaAndOpen(editFile);
     }); 

     // 普通画图按钮事件监听器
     document.getElementById('navOpenDrawBtn').addEventListener('click', ()=>{ 
       checkRecaptchaAndOpen('draw.html');
     }); 

     document.getElementById('heroOpenDrawBtn').addEventListener('click', ()=>{ 
       checkRecaptchaAndOpen('draw.html');
     }); 

     document.getElementById('openTutorial').addEventListener('click', ()=>{ 
       alert('快速教程：选择铅笔并选择颜色；鼠标拖绘以着色；按 Z 撤销，Y 重做；保存 LM 保存作品。'); 
     }); 
   </script> 
 </body> 
 </html>
